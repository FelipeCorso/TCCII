<div class="typesDemo row">
    <div ng-repeat="list in vm.lists" class="col-md-4 ng-scope">
        <div class="panel panel-info">
            <div class="panel-heading">
                <h3 class="panel-title ng-binding">List of {{list.label}} (max. {{list.max}})</h3>
            </div>
            <!-- ngInclude: 'types/types.html' -->
            <div class="panel-body ng-scope">
                <ul dnd-list="list.people"
                    dnd-horizontal-list="true"
                    dnd-allowed-types="list.allowedTypes"
                    dnd-disable-if="list.people.length >= list.max">

                    <li ng-repeat="person in list.people"
                        dnd-draggable="person"
                        dnd-type="person.type"
                        dnd-disable-if="person.type == 'unknown'"
                        dnd-moved="list.people.splice($index, 1)"
                        class="background-{{person.type}}"
                    >
                        <dnd-nodrag>
                            <div dnd-handle class="handle">:::</div>
                            <div class="name">
                                <input type="text" ng-model="person.name"
                                       class="background-{{person.type}} form-control input-sm">
                            </div>
                        </dnd-nodrag>
                    </li>

                    <li class="dndPlaceholder">
                        Drop any <strong>{{list.allowedTypes.join(' or ')}}</strong> here
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>


<div class="advancedDemo row">
    <div ng-repeat="containers in vm.containers" class="col-md-6 ng-scope">
        <!-- ngInclude: 'advanced/advanced.html' -->
        <div class="dropzone box box-yellow ng-scope">
            <h3>Dropzone {{$index + 1}}</h3>
            <ul dnd-list="containers"
                dnd-allowed-types="['container']"
                dnd-external-sources="true"
                dnd-effect-allowed="hello"
                dnd-dragover="vm.dragoverCallback(index, external, type, callback)"
                dnd-drop="vm.dropCallback(index, item, external, type)">
                <li ng-repeat="container in containers"
                    dnd-draggable="container"
                    dnd-type="'container'"
                    dnd-effect-allowed="copyMove"
                    dnd-moved="containers.splice($index, 1)"
                    dnd-callback="container.items.length">
                    <div class="container-element box box-blue">
                        <h3>Container (effects allowed: {{container.effectAllowed}})</h3>
                        <ul dnd-list="container.items"
                            dnd-allowed-types="['item']"
                            dnd-horizontal-list="true"
                            dnd-external-sources="true"
                            dnd-effect-allowed="{{container.effectAllowed}}"
                            dnd-dragover="vm.dragoverCallback(index, external, type)"
                            dnd-drop="vm.dropCallback(index, item, external, type)"
                            dnd-inserted="vm.logListEvent('inserted at', index, external, type)"
                            class="itemlist">
                            <li ng-repeat="item in container.items"
                                dnd-draggable="item"
                                dnd-type="'item'"
                                dnd-effect-allowed="{{item.effectAllowed}}"
                                dnd-dragstart="vm.logEvent('Started to drag an item')"
                                dnd-moved="container.items.splice($index, 1)"
                                dnd-dragend="vm.logEvent('Drag operation ended. Drop effect: ' + dropEffect)">
                                {{item.label}}
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
